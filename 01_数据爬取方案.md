# 01_æ•°æ®çˆ¬å–æ–¹æ¡ˆ

## æ–‡æ¡£ä¿¡æ¯

- **é¡¹ç›®åç§°**: æ”¿ç­–è¯­ä¹‰å› æœå›¾è°±(PSC-Graph)
- **æ¨¡å—**: æ•°æ®é‡‡é›†å±‚
- **ç‰ˆæœ¬**: v1.0
- **æ›´æ–°æ—¥æœŸ**: 2025-11-11
- **è´Ÿè´£äºº**: æ•°æ®å·¥ç¨‹ç»„

---

## ä¸€ã€æ¦‚è§ˆä¸ç›®æ ‡

### 1.1 ä¸šåŠ¡ç›®æ ‡

æœ¬æ–¹æ¡ˆæ˜¯PSC-Graphé¡¹ç›®çš„åŸºç¡€æ•°æ®é‡‡é›†æ¨¡å—,æ—¨åœ¨æ„å»º**"æ”¿ç­–è¯­ä¹‰â†’æ”¿ç­–æ„å›¾â†’äº§ä¸šè¡Œä¸º/ç»©æ•ˆ"**ç«¯åˆ°ç«¯ä½“ç³»çš„æ•°æ®åº•åº§ã€‚æ•°æ®é‡‡é›†éœ€æ»¡è¶³:

- âœ… **å®Œæ•´æ€§**: è¦†ç›–ä¸­å¤®/çœçº§æ”¿ç­–+äº§ä¸šæŒ‡æ ‡+ä¸“åˆ©ç»Ÿè®¡
- âœ… **åˆè§„æ€§**: ä¸¥æ ¼éµå®ˆrobots.txtã€QPSâ‰¤1.0ã€æ¥æºåˆæ³•
- âœ… **å¯è¿½æº¯æ€§**: æ‰€æœ‰æ•°æ®é™„å®˜æ–¹é“¾æ¥ã€SHA256æ ¡éªŒã€æ—¶é—´æˆ³
- âœ… **å·¥ç¨‹åŒ–**: æ ‡å‡†ç›®å½•ç»“æ„ã€é…ç½®æ–‡ä»¶ã€æ–­ç‚¹ç»­çˆ¬ã€æ—¥å¿—è§„èŒƒ

### 1.2 æ•°æ®æºçŸ©é˜µ

| æ•°æ®ç±»å‹ | æ¥æº | æ—¶é—´è·¨åº¦ | ç²’åº¦ | ä¼˜å…ˆçº§ |
|---------|------|---------|------|--------|
| **æ”¿ç­–æ–‡æœ¬(ä¸­å¤®)** | å›½åŠ¡é™¢æ”¿ç­–æ–‡ä»¶åº“ | 2009-è‡³ä»Š | æ–‡æ¡£çº§ | ğŸ”´ æœ€é«˜ |
| **æ”¿ç­–æ–‡æœ¬(çœçº§)** | 31çœå¸‚ç§‘æŠ€å… | 2009-è‡³ä»Š | æ–‡æ¡£çº§ | ğŸ”´ æœ€é«˜ |
| **äº§ä¸šæŒ‡æ ‡** | å›½å®¶ç»Ÿè®¡å±€é—¨æˆ· | 2009-è‡³ä»Š | çœ-å¹´/å­£/æœˆ | ğŸŸ¡ é«˜ |
| **ä¸“åˆ©ç»Ÿè®¡** | CNIPAæœˆæŠ¥/å¹´æŠ¥ | 2009-è‡³ä»Š | çœ-æœˆ/å¹´ | ğŸŸ¡ é«˜ |

### 1.3 å®æ–½è·¯å¾„

```mermaid
graph LR
    A[ç¯å¢ƒå‡†å¤‡] --> B[ä¸­å¤®æ”¿ç­–]
    B --> C[çœçº§æ”¿ç­–]
    C --> D[ç»Ÿè®¡æ•°æ®]
    D --> E[ä¸“åˆ©æ•°æ®]
    E --> F[è´¨é‡éªŒæ”¶]
```

**é¢„è®¡æ—¶é—´**: 2å‘¨(10ä¸ªå·¥ä½œæ—¥)

---

## äºŒã€æ•°æ®æºè¯¦ç»†è§„èŒƒ

### 2.1 ä¸­å¤®æ”¿ç­–å±‚(å›½åŠ¡é™¢æ”¿ç­–æ–‡ä»¶åº“)

#### ğŸ“‹ åŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|-----|------|
| **æƒå¨å…¥å£** | https://www.gov.cn/zhengce/zhengcewenjianku/ |
| **éƒ¨é—¨æ–‡ä»¶** | https://www.gov.cn/zhengce/zhengceku/bmwj/home_{page}.htm |
| **æ”¿ç­–è§£è¯»** | https://www.gov.cn/zhengce/jiedu/home_{page}.htm |
| **Robots** | https://www.gov.cn/robots.txt |
| **æ—¶é—´èŒƒå›´** | 2009å¹´è‡³ä»Š(ä¸»æ ·æœ¬æœŸ) |
| **åˆ†é¡µæ¨¡å¼** | é™æ€åˆ†é¡µ `home_0.htm`, `home_1.htm`... |

#### ğŸ“Š å­—æ®µè§„èŒƒ(Schema)

**å¿…é¡»å­—æ®µ**:
```yaml
title:           # æ ‡é¢˜ (string)
pub_date:        # å‘å¸ƒæ—¥æœŸ (ISO8601, å¦‚"2023-01-15")
issuer:          # å‘å¸ƒæœºå…³ (string)
doc_no:          # æ–‡å· (string, å¦‚"å›½å‘ã€”2023ã€•1å·")
index_no:        # ç´¢å¼•å· (string)
category:        # ç±»åˆ« (enum: "å›½åŠ¡é™¢æ–‡ä»¶"|"éƒ¨é—¨æ–‡ä»¶"|"æ”¿ç­–è§£è¯»")
status:          # æ—¶æ•ˆçŠ¶æ€ (enum: "ç°è¡Œ"|"åºŸæ­¢"|"å¤±æ•ˆ")
source_url:      # æ¥æºURL (string)
html:            # åŸæ–‡HTML (string, ç”¨äºå­˜æ¡£)
content_text:    # æ­£æ–‡çº¯æ–‡æœ¬ (string, ç”¨äºNLPæŠ½å–)
sha256:          # æ­£æ–‡å“ˆå¸Œ (string, 32å­—ç¬¦, ç”¨äºå»é‡)
retrieved_at:    # æŠ“å–æ—¶é—´æˆ³ (ISO8601)
region:          # "CN-Central" (ä¸­å¤®å±‚æ ‡è¯†)
```

**å¯é€‰å­—æ®µ**:
```yaml
attachments:     # é™„ä»¶åˆ—è¡¨ (array)
  - filename:    # é™„ä»¶æ–‡ä»¶å
    url:         # ä¸‹è½½é“¾æ¥
    type:        # æ–‡ä»¶ç±»å‹ (pdf|doc|docx)

related:         # å…³è”æ–‡ä»¶ (array)
  - title:       # å…³è”æ–‡ä»¶æ ‡é¢˜
    url:         # å…³è”URL
    relation_type: # å…³ç³»ç±»å‹ (å¦‚"æ”¿ç­–è§£è¯»"|"ä¿®è®¢")
```

#### ğŸ”‘ å»é‡ç­–ç•¥

```python
# ä¸»é”®ç”Ÿæˆé€»è¾‘
primary_key = hash(title + doc_no + pub_date)

# å†²çªå¤„ç†
if doc_no is None:
    primary_key = hash(title + pub_date)

# SHA256æ ¡éªŒ
sha256_hash = hashlib.sha256(content_text.encode('utf-8')).hexdigest()
# å…¥åº“å‰æ£€æŸ¥: å¦‚å·²å­˜åœ¨åŒhashæ–‡ä»¶,è·³è¿‡
```

#### ğŸ¯ æŠ“å–ç­–ç•¥

```yaml
èŠ‚æµæ§åˆ¶:
  QPS: â‰¤1.0 req/s
  éšæœºæŠ–åŠ¨: +random(0, 0.3)ç§’
  é‡è¯•ç­–ç•¥: æŒ‡æ•°é€€é¿,æœ€å¤§5æ¬¡

åˆè§„ä¿è¯:
  User-Agent: "PSC-Graph/0.1 (+research; contact: policy@psc-graph.org)"
  Robots: éµå®ˆwww.gov.cn/robots.txt
  å…è®¸è·¯å¾„: /zhengce/*, /home_*.htm
  ç¦æ­¢è·¯å¾„: /2016*/, /premier/...

æ–­ç‚¹ç»­çˆ¬:
  Checkpointæ–‡ä»¶: results/checkpoints/gov_central.json
  è®°å½•å­—æ®µ: {"name": "...", "next_page": 3, "last_update": "..."}
  æ¢å¤é€»è¾‘: å¯åŠ¨æ—¶è¯»å–next_page,ä»è¯¥é¡µç»§ç»­
```

#### ğŸ“ ç¤ºä¾‹è¾“å‡º

```json
{
  "doc_id": "gov_central_20230115_abc123",
  "title": "å›½åŠ¡é™¢å…³äºåŠ å¿«å‘å±•äººå·¥æ™ºèƒ½äº§ä¸šçš„è‹¥å¹²æ„è§",
  "pub_date": "2023-01-15",
  "issuer": "å›½åŠ¡é™¢",
  "doc_no": "å›½å‘ã€”2023ã€•1å·",
  "index_no": "000014349/2023-00001",
  "category": "å›½åŠ¡é™¢æ–‡ä»¶",
  "status": "ç°è¡Œ",
  "source_url": "https://www.gov.cn/zhengce/content/2023-01/15/content_5735001.htm",
  "html": "<html>...</html>",
  "content_text": "ä¸ºåŠ å¿«å‘å±•äººå·¥æ™ºèƒ½äº§ä¸š...",
  "sha256": "a1b2c3d4e5f6...",
  "retrieved_at": "2025-11-11T10:30:00+08:00",
  "region": "CN-Central",
  "attachments": [
    {
      "filename": "é™„ä»¶1.pdf",
      "url": "https://www.gov.cn/.../attachment1.pdf",
      "type": "pdf"
    }
  ]
}
```

---

### 2.2 çœçº§æ”¿ç­–å±‚(ç§‘æŠ€å…/ç§‘å§”)

#### ğŸ“‹ ç«™ç‚¹ç§å­æ¸…å•

**ä¼˜å…ˆæ‰¹æ¬¡1(ç¤ºèŒƒæ ·æœ¬)**:

| çœä»½ | å…¥å£URL | Adcode | å¤‡æ³¨ |
|-----|---------|--------|------|
| **å¹¿ä¸œçœ** | https://gdstc.gd.gov.cn/zwgk_n/zcfg/szcfg/index.html | 44 | åˆ†é¡µæ¸…æ™°,æä¾›å…¨å›½çœçº§å…¥å£ |
| **åŒ—äº¬å¸‚** | https://kw.beijing.gov.cn/ | 11 | å¸‚ç§‘å§”/ä¸­å…³æ‘ç®¡å§” |
| **ä¸Šæµ·å¸‚** | https://stcsm.sh.gov.cn/ | 31 | å¸‚ç§‘å§” |
| **æµ™æ±Ÿçœ** | http://kjt.zj.gov.cn/ | 33 | çœç§‘æŠ€å… |
| **æ±Ÿè‹çœ** | http://kxjst.jiangsu.gov.cn/ | 32 | çœç§‘æŠ€å… |
| **æ·±åœ³å¸‚** | http://stic.sz.gov.cn/ | 4403 | åœ°çº§å¸‚ç¤ºèŒƒ |

**æ‰©å±•æ‰¹æ¬¡2**:
å±±ä¸œã€å®‰å¾½ã€æ¹–åŒ—ã€å››å·ã€é‡åº†ã€æ¹–å—ç­‰(ä»å¹¿ä¸œé¡µé¢çš„"å„çœå¸‚ç§‘æŠ€ç®¡ç†éƒ¨é—¨"å¯¼èˆªæŠ½å–å®Œæ•´æ¸…å•)

#### ğŸ“Š å­—æ®µè§„èŒƒ(ç»§æ‰¿+æ–°å¢)

**æ–°å¢åœ°åŸŸå­—æ®µ**:
```yaml
province_name:   # çœä»½åç§° (å¦‚"å¹¿ä¸œçœ")
adcode_prov:     # çœçº§è¡Œæ”¿åŒºåˆ’ç  (2ä½, å¦‚"44")
```

**å…¶ä»–å­—æ®µ**: ç»§æ‰¿ä¸­å¤®å±‚Schema(title, pub_date, issuerç­‰)

#### ğŸ¯ æŠ“å–ç­–ç•¥

```yaml
æ ç›®å®šä½:
  ä¼˜å…ˆæ ç›®: "æ”¿ç­–æ³•è§„"ã€"æ”¿ç­–æ–‡ä»¶"ã€"æ”¿ç­–è§£è¯»"
  å¤‡é€‰æ ç›®: "é€šçŸ¥å…¬å‘Š"ã€"å·¥ä½œåŠ¨æ€"(å«æ”¿ç­–ä¿¡æ¯)

åˆ†é¡µé€‚é…:
  ç±»å‹1: é™æ€åˆ†é¡µ (å¦‚å¹¿ä¸œ: mindex_{page}.html)
  ç±»å‹2: JSç¿»é¡µ (éœ€è§£ænextPageæŒ‰é’®)
  ç±»å‹3: æ— åˆ†é¡µ (å…¨éƒ¨åˆ—è¡¨é¡µ)

é™„ä»¶å¤„ç†:
  æ”¯æŒæ ¼å¼: PDF, DOC, DOCX
  ä¸‹è½½ç­–ç•¥: ç»Ÿä¸€ä¸‹è½½åˆ°corpus/raw/policy_prov/{çœä»½}/attachments/
  MIMEæ£€æŸ¥: éªŒè¯Content-Typeä¸æ–‡ä»¶æ‰©å±•åä¸€è‡´

èŠ‚æµæ§åˆ¶:
  QPS: â‰¤0.7 req/s (æ¯”ä¸­å¤®å±‚æ›´ä¿å®ˆ)
  éšæœºæŠ–åŠ¨: +random(0, 0.5)ç§’
  é”™è¯¯é‡è¯•: æœ€å¤§3æ¬¡
```

#### ğŸ“ é…ç½®ç¤ºä¾‹(seeds_sites.yaml)

```yaml
provinces:
  - name: å¹¿ä¸œçœç§‘æŠ€å…
    region: å¹¿ä¸œçœ
    adcode_prov: 44
    list_url: "https://gdstc.gd.gov.cn/zwgk_n/zcfg/szcfg/mindex.html"
    pagination: true
    pagination_selector: "a:contains('ä¸‹ä¸€é¡µ')"
    detail_link_selector: "a"

  - name: åŒ—äº¬å¸‚ç§‘å§”/ä¸­å…³æ‘ç®¡å§”
    region: åŒ—äº¬å¸‚
    adcode_prov: 11
    homepage: "https://kw.beijing.gov.cn/"
    # éœ€äºŒæ¬¡åˆ†æé¡µé¢ç»“æ„åè¡¥å……
```

---

### 2.3 äº§ä¸š/å®è§‚æŒ‡æ ‡(å›½å®¶ç»Ÿè®¡å±€)

#### ğŸ“‹ åŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|-----|------|
| **æ•°æ®é—¨æˆ·** | https://data.stats.gov.cn/easyquery.htm |
| **æ¥å£ç±»å‹** | å‰ç«¯å…¬å¼€JSONæ¥å£ |
| **ç¼–åˆ¶è§„åˆ™** | https://www.stats.gov.cn/sj/tjbz/gjtjbz/202302/t20230213_1902741.html |
| **æ—¶é—´èŒƒå›´** | 2009å¹´è‡³ä»Š |
| **æ›´æ–°é¢‘ç‡** | æœˆåº¦/å­£åº¦/å¹´åº¦(æŒ‰æŒ‡æ ‡ç±»å‹) |

#### ğŸ“Š æ ¸å¿ƒæŒ‡æ ‡æ¸…å•

**å¿…é¡»é‡‡é›†æŒ‡æ ‡**:

| æŒ‡æ ‡ç±»åˆ« | æŒ‡æ ‡åç§° | ç¼–ç ç¤ºä¾‹ | é¢‘ç‡ | ç²’åº¦ |
|---------|---------|---------|------|------|
| **GDP** | åœ°åŒºç”Ÿäº§æ€»å€¼(ç°ä»·) | A0101 | å¹´åº¦ | çœçº§ |
| **GDP** | åœ°åŒºç”Ÿäº§æ€»å€¼(ä¸å˜ä»·) | A0102 | å¹´åº¦ | çœçº§ |
| **GDP** | åœ°åŒºç”Ÿäº§æ€»å€¼(å­£åº¦) | A0103 | å­£åº¦ | çœçº§ |
| **R&D** | R&Dç»è´¹æ”¯å‡º | A0RD01 | å¹´åº¦ | çœçº§ |
| **R&D** | R&Då¼ºåº¦(R&D/GDP) | A0RD02 | å¹´åº¦ | çœçº§ |
| **å·¥ä¸š** | è§„æ¨¡ä»¥ä¸Šå·¥ä¸šå¢åŠ å€¼ | A0401 | æœˆåº¦/å¹´åº¦ | çœçº§ |
| **å·¥ä¸š** | é«˜æŠ€æœ¯åˆ¶é€ ä¸šå¢åŠ å€¼ | A0402 | å¹´åº¦ | çœçº§ |
| **äººåŠ›** | ç ”å‘äººå‘˜FTE | A0RD03 | å¹´åº¦ | çœçº§ |

> âš ï¸ **é‡è¦æç¤º**: æŒ‡æ ‡ç¼–ç (å¦‚A0101)ä¸ºç¤ºä¾‹,å®é™…ä½¿ç”¨å‰å¿…é¡»é€šè¿‡æµè§ˆå™¨F12éªŒè¯æœ€æ–°ç¼–ç ã€‚

#### ğŸ“Š å­—æ®µè§„èŒƒ

```yaml
å¿…é¡»å­—æ®µ:
  province_name:    # çœä»½åç§° (string)
  adcode_prov:      # çœçº§ä»£ç  (2ä½, ç”¨äºä¸æ”¿ç­–åˆå¹¶)
  year:             # å¹´ä»½ (int, å¦‚2023)
  quarter:          # å­£åº¦ (int, å¯é€‰, 1-4)
  month:            # æœˆä»½ (int, å¯é€‰, 1-12)
  indicator_code:   # æŒ‡æ ‡ç¼–ç  (string, ä»¥NBSé—¨æˆ·ä¸ºå‡†)
  indicator_name_cn:# æŒ‡æ ‡ä¸­æ–‡å (string)
  unit:             # å•ä½ (string, å¦‚"äº¿å…ƒ"|"ç™¾åˆ†æ¯”")
  value:            # æ•°å€¼ (float)
  source_url:       # æŸ¥è¯¢é¡µURL (string)
  retrieved_at:     # æŠ“å–æ—¶é—´æˆ³ (ISO8601)
```

#### ğŸ”Œ æ¥å£è°ƒç”¨æ–¹å¼

**è¯·æ±‚ç¤ºä¾‹**:
```python
import requests

url = "https://data.stats.gov.cn/easyquery.htm"
params = {"cn": "G0104", "m": "QueryData"}
payload = {
    "dbcode": "G0104",
    "rowcode": "reg",      # åœ°åŒºç»´åº¦
    "colcode": "sj",       # æ—¶é—´ç»´åº¦
    "wds": [],
    "dfwds": [
        {"wdcode": "zb", "valuecode": "A0101"},  # æŒ‡æ ‡ç¼–ç 
        {"wdcode": "sj", "valuecode": "2009-"}   # æ—¶é—´èŒƒå›´
    ]
}

response = requests.post(url, data=payload, timeout=30)
data = response.json()

# è¿”å›ç»“æ„:
# {
#   "returndata": {
#     "wdnodes": [...],  # ç»´åº¦ä¿¡æ¯(çœä»½åç§°æ˜ å°„)
#     "datanodes": [     # æ•°æ®èŠ‚ç‚¹
#       {
#         "wds": [{"wdcode":"reg","valuecode":"110000"}, ...],
#         "data": {"strdata": "40000", "data": 40000.0}
#       }
#     ]
#   }
# }
```

**å“åº”è§£æç¤ºä¾‹**:
```python
def normalize_nbs_json(json_obj, indicator_code):
    """å°†NBS JSONå±•å¹³ä¸ºé•¿è¡¨"""
    ret = []
    nodes = json_obj.get("returndata", {}).get("datanodes", [])
    wdnodes = json_obj.get("returndata", {}).get("wdnodes", [])

    # æ„å»ºçœä»½ç¼–ç â†’åç§°æ˜ å°„
    code2name = {}
    for wd in wdnodes:
        if wd.get("wdcode") == "reg":
            for node in wd.get("nodes", []):
                code2name[node["code"]] = node["name"]

    # å±•å¹³æ•°æ®
    for dn in nodes:
        if not dn.get("data"):
            continue
        value = dn["data"].get("strdata") or dn["data"].get("data")
        dims = {d["wdcode"]: d["valuecode"] for d in dn.get("wds", [])}

        ret.append({
            "province_code": dims.get("reg"),
            "province_name": code2name.get(dims.get("reg"), ""),
            "period": dims.get("sj"),
            "indicator_code": indicator_code,
            "value": value
        })

    return ret
```

#### ğŸ¯ æŠ“å–ç­–ç•¥

```yaml
åˆè§„è¦æ±‚:
  QPS: â‰¤0.3 req/s (ç»Ÿè®¡å±€æ¥å£æ•æ„Ÿ)
  è¶…æ—¶è®¾ç½®: 30ç§’
  é‡è¯•ç­–ç•¥: HTTP 5xxé‡è¯•,æœ€å¤§3æ¬¡
  User-Agent: "PSC-Graph/0.1 (+research; contact: policy@psc-graph.org)"

ç¼“å­˜ç­–ç•¥:
  - ä¿ç•™åŸå§‹JSONå“åº” (data/nbs_raw/{indicator_code}.json)
  - æŒ‰æŒ‡æ ‡çº§ç¼“å­˜ (é¿å…é‡å¤æŸ¥è¯¢)
  - ç¼“å­˜æœ‰æ•ˆæœŸ: 1ä¸ªæœˆ (ç»Ÿè®¡æ•°æ®æ›´æ–°é¢‘ç‡ä½)

æ•°æ®éªŒè¯:
  - äººå·¥æ ¸å¯¹: 3ä¸ªæŒ‡æ ‡Ã—3çœÃ—3å¹´ = 27ä¸ªæ•°æ®ç‚¹
  - å¯¹æ¯”æº: ç»Ÿè®¡å±€é—¨æˆ·é¡µé¢äººå·¥æŸ¥è¯¢ç»“æœ
  - è¯¯å·®å®¹å¿: â‰¤0.1%
```

#### ğŸ“ è¾“å‡ºç¤ºä¾‹

**é•¿è¡¨æ ¼å¼(data/nbs_panel_long.csv)**:
```csv
province_name,adcode_prov,year,quarter,month,indicator_code,indicator_name_cn,unit,value,source_url,retrieved_at
å¹¿ä¸œçœ,44,2023,,,A0101,åœ°åŒºç”Ÿäº§æ€»å€¼,äº¿å…ƒ,135673.16,https://data.stats.gov.cn/...,2025-11-11T10:30:00+08:00
åŒ—äº¬å¸‚,11,2023,,,A0101,åœ°åŒºç”Ÿäº§æ€»å€¼,äº¿å…ƒ,43760.70,https://data.stats.gov.cn/...,2025-11-11T10:30:00+08:00
å¹¿ä¸œçœ,44,2023,,,A0RD01,R&Dç»è´¹æ”¯å‡º,äº¿å…ƒ,4259.70,https://data.stats.gov.cn/...,2025-11-11T10:30:00+08:00
```

---

### 2.4 ä¸“åˆ©æ•°æ®(CNIPA)

#### ğŸ“‹ åŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|-----|------|
| **æœˆæŠ¥ç´¢å¼•** | https://www.cnipa.gov.cn/col/col3482/ (2025å¹´åº¦ç¤ºä¾‹) |
| **å¹´æŠ¥ç´¢å¼•** | https://www.cnipa.gov.cn/col/col94/ |
| **ç»Ÿè®¡è¯´æ˜** | https://www.cnipa.gov.cn/art/2024/11/26/art_88_196286.html |
| **æ—¶é—´èŒƒå›´** | 2009å¹´è‡³ä»Š |
| **æ›´æ–°é¢‘ç‡** | æœˆæŠ¥(æ¯æœˆ)ã€å¹´æŠ¥(æ¯å¹´) |

#### ğŸ“Š æŠ“å–èŒƒå›´

**æœˆåº¦æ•°æ®**:
```yaml
æ¥æº: ã€Šå®¡æŸ¥æ³¨å†Œç™»è®°ç»Ÿè®¡æœˆæŠ¥ã€‹
å†…å®¹:
  - å‘æ˜ä¸“åˆ©æˆæƒé‡(å›½å†…/å›½å¤–/åˆè®¡)
  - å®ç”¨æ–°å‹ä¸“åˆ©æˆæƒé‡(å›½å†…/å›½å¤–/åˆè®¡)
  - å¤–è§‚è®¾è®¡ä¸“åˆ©æˆæƒé‡(å›½å†…/å›½å¤–/åˆè®¡)
  - PCTç”³è¯·å—ç†é‡
åˆ†çœ: âœ… æä¾›çœä»½ç»´åº¦åˆ†å¸ƒ
é¢‘ç‡: æ¯æœˆå‘å¸ƒ(æ¬¡æœˆ15æ—¥å‰)
```

**å¹´åº¦æ•°æ®**:
```yaml
æ¥æº: ç»Ÿè®¡å¹´æŠ¥ä¸å†å²æ±‡æ€»è¡¨
å†…å®¹:
  - ä¸“åˆ©ç”³è¯·é‡/æˆæƒé‡/æœ‰æ•ˆé‡(1985-2023)
  - æŒ‰ä¸“åˆ©ç±»å‹ã€åœ°åŒºã€ç”³è¯·äººç±»å‹ç»†åˆ†
åˆ†çœ: âœ… æä¾›çœä»½ç»´åº¦ç»Ÿè®¡
é¢‘ç‡: æ¯å¹´å‘å¸ƒ(æ¬¡å¹´3æœˆå‰)
```

#### ğŸ“Š å­—æ®µè§„èŒƒ

```yaml
å¿…é¡»å­—æ®µ:
  province_name:    # çœä»½åç§° (string)
  adcode_prov:      # çœçº§ä»£ç  (2ä½)
  period:           # æ—¶æœŸ (YYYY-MMæˆ–YYYY)
  indicator:        # æŒ‡æ ‡åç§° (å¦‚"patent_grant_invention")
  scope:            # ç»Ÿè®¡èŒƒå›´ (enum: "å›½å†…"|"å›½å¤–åœ¨å"|"åˆè®¡")
  value:            # æ•°å€¼ (int)
  unit:             # å•ä½ (string, å¦‚"ä»¶")
  source_url:       # æ¥æºURL (æŠ¥å‘Šé¡µé¢é“¾æ¥)
  table_name:       # æŠ¥å‘Šå†…è¡¨æ ¼åç§° (string)
  retrieved_at:     # æŠ“å–æ—¶é—´æˆ³ (ISO8601)
```

#### ğŸ“„ PDFè§£æç­–ç•¥

**å·¥å…·é€‰æ‹©**:
```yaml
pdfplumber:
  ä¼˜åŠ¿: PythonåŸç”Ÿ,æ˜“å®‰è£…,è¡¨æ ¼æŠ½å–å‡†ç¡®ç‡é«˜
  åŠ£åŠ¿: å¯¹æ‰«æä»¶æ— æ•ˆ
  é€‚ç”¨: CNIPAå¤§éƒ¨åˆ†PDFæŠ¥å‘Šä¸ºç”µå­æ–‡æ¡£,é€‚ç”¨pdfplumber

camelot-py(å¤‡é€‰):
  ä¼˜åŠ¿: å¤æ‚è¡¨æ ¼è¯†åˆ«èƒ½åŠ›å¼º
  åŠ£åŠ¿: ä¾èµ–Java,å®‰è£…å¤æ‚
  é€‚ç”¨: pdfplumberå¤±è´¥æ—¶çš„åå¤‡æ–¹æ¡ˆ

Tesseract OCR(æ‰«æä»¶):
  ä¼˜åŠ¿: å¤„ç†å›¾åƒå‹PDF
  åŠ£åŠ¿: å‡†ç¡®ç‡ä¾èµ–å›¾åƒè´¨é‡
  é€‚ç”¨: é‡åˆ°æ‰«æä»¶æ—¶é¢„å¤„ç†
```

**è§£ææµç¨‹**:
```python
import pdfplumber

def parse_cnipa_monthly_pdf(pdf_path):
    """è§£æCNIPAæœˆæŠ¥PDFä¸ºé•¿è¡¨"""
    rows = []

    with pdfplumber.open(pdf_path) as pdf:
        for page in pdf.pages:
            try:
                table = page.extract_table()
            except Exception:
                continue

            if not table:
                continue

            # è¯†åˆ«è¡¨å¤´
            header, *data = table

            # è¿‡æ»¤éçœä»½è¡Œ(é€šè¿‡æ­£åˆ™åŒ¹é…)
            for row in data:
                if not row or not row[0]:
                    continue
                # ä»…ä¿ç•™åŒ…å«"çœ|å¸‚|è‡ªæ²»åŒº|å…µå›¢"çš„è¡Œ
                if not re.search(r"(çœ|å¸‚|è‡ªæ²»åŒº|å…µå›¢)", row[0]):
                    continue

                rows.append({
                    "province_name": row[0].strip(),
                    "col1": row[1],  # åˆ—åéœ€æ ¹æ®è¡¨å¤´åŠ¨æ€æ˜ å°„
                    "col2": row[2],
                    "col3": row[3]
                })

    return pd.DataFrame(rows)
```

#### ğŸ¯ æŠ“å–ç­–ç•¥

```yaml
ä¼˜å…ˆçº§:
  1. ç»Ÿè®¡æœˆæŠ¥/å¹´æŠ¥(å·²æ•´ç†çš„Excel/PDFè¡¨æ ¼)
  2. å†å²æ±‡æ€»æ•°æ®è¡¨(1985-2023å…¨é‡)
  3. PSSæ–‡çŒ®å…¨æ–‡æ£€ç´¢ç³»ç»Ÿ(ä¸å»ºè®®æ‰¹é‡çˆ¬å–)

èŠ‚æµæ§åˆ¶:
  QPS: â‰¤0.5 req/s
  PDFä¸‹è½½: æ£€æŸ¥Content-Length,è¶…è¿‡10MBé™é€Ÿ
  é‡è¯•ç­–ç•¥: PDFæŸåæ—¶é‡æ–°ä¸‹è½½,æœ€å¤§2æ¬¡

åˆè§„è¦æ±‚:
  - ä»…ä¸‹è½½å…¬å¼€ç»Ÿè®¡æŠ¥å‘Š
  - ä¸ä½¿ç”¨PSSæ‰¹é‡çˆ¬å–(å—å…è´£å£°æ˜é™åˆ¶)
  - éµå®ˆcol3482/col94æ ç›®çš„è®¿é—®è§„èŒƒ

ç¼“å­˜ç­–ç•¥:
  - PDFåŸæ–‡ä¿å­˜: data/cnipa_raw/{year}-{month}.pdf
  - è§£æåé•¿è¡¨: data/cnipa_panel_long.csv
  - å¤±è´¥æ–‡ä»¶è®°å½•: results/logs/cnipa_parse_fail.txt
```

#### ğŸ“ è¾“å‡ºç¤ºä¾‹

**é•¿è¡¨æ ¼å¼(data/cnipa_panel_long.csv)**:
```csv
province_name,adcode_prov,period,indicator,scope,value,unit,source_url,table_name,retrieved_at
å¹¿ä¸œçœ,44,2023-05,patent_grant_invention,å›½å†…,5423,ä»¶,https://www.cnipa.gov.cn/...,è¡¨1 ä¸“åˆ©æˆæƒé‡åˆ†å¸ƒ,2025-11-11T10:30:00+08:00
åŒ—äº¬å¸‚,11,2023-05,patent_grant_invention,å›½å†…,3876,ä»¶,https://www.cnipa.gov.cn/...,è¡¨1 ä¸“åˆ©æˆæƒé‡åˆ†å¸ƒ,2025-11-11T10:30:00+08:00
å¹¿ä¸œçœ,44,2023,patent_application_invention,åˆè®¡,123456,ä»¶,https://www.cnipa.gov.cn/...,è¡¨2 2023å¹´ä¸“åˆ©ç”³è¯·é‡,2025-11-11T10:30:00+08:00
```

---

## ä¸‰ã€å®æ–½æ­¥éª¤

### 3.1 ç¯å¢ƒå‡†å¤‡

#### Step 1: ç³»ç»Ÿä¾èµ–å®‰è£…

```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install -y python3-dev openjdk-17-jre

# macOS
brew install python3 openjdk

# Windows
# æ‰‹åŠ¨å®‰è£…Python 3.9+ã€Java 17+
```

#### Step 2: åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# æ‰§è¡ŒMakefileç›®æ ‡
make setup

# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
bash scripts/bootstrap.sh
```

**bootstrap.shæ‰§è¡Œå†…å®¹**:
```bash
#!/usr/bin/env bash
set -euo pipefail

# 1. åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv
source .venv/bin/activate

# 2. å®‰è£…Pythonä¾èµ–
pip install --upgrade pip
pip install -r scripts/requirements.txt

# 3. å®‰è£…RåŒ…(ç”¨äºåç»­å› æœæ¨æ–­)
if command -v Rscript >/dev/null 2>&1; then
  Rscript -e 'install.packages(c("did","didimputation"), repos="https://cloud.r-project.org")'
else
  echo "[WARN] Rscript not found. Skip R package installation."
fi

# 4. åˆ›å»ºå¿…è¦ç›®å½•
mkdir -p indexes results/logs results/checkpoints
mkdir -p data/nbs_raw data/cnipa_raw
mkdir -p corpus/raw/policy_central corpus/raw/policy_prov

echo "[OK] Setup completed."
```

#### Step 3: éªŒè¯ç¯å¢ƒ

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# éªŒè¯å…³é”®ä¾èµ–
python -c "import requests, bs4, pdfplumber, pandas; print('âœ… All dependencies OK')"

# éªŒè¯Java(ç”¨äºLucene)
java -version
```

---

### 3.2 é…ç½®ç«™ç‚¹ç§å­

#### æ–‡ä»¶è·¯å¾„
`data/seeds/seeds_sites.yaml`

#### å®Œæ•´é…ç½®ç¤ºä¾‹

```yaml
# ==================== ä¸­å¤®æ”¿ç­– ====================
central:
  - name: gov_policy_department
    list_url: "https://www.gov.cn/zhengce/zhengceku/bmwj/home_{page}.htm"
    detail_link_selector: "a"
    start_page: 1
    max_pages: 10               # é¦–è½®é™åˆ¶,åç»­å¯æ‰©å±•
    category: "éƒ¨é—¨æ–‡ä»¶"

  - name: gov_policy_interpretation
    list_url: "https://www.gov.cn/zhengce/jiedu/home_{page}.htm"
    detail_link_selector: "a"
    start_page: 1
    max_pages: 5
    category: "æ”¿ç­–è§£è¯»"

# ==================== çœçº§æ”¿ç­– ====================
provinces:
  - name: å¹¿ä¸œçœç§‘æŠ€å…
    region: å¹¿ä¸œçœ
    adcode_prov: 44
    list_url: "https://gdstc.gd.gov.cn/zwgk_n/zcfg/szcfg/mindex.html"
    pagination: true
    pagination_selector: "a:contains('ä¸‹ä¸€é¡µ')"
    detail_link_selector: "a"

  - name: åŒ—äº¬å¸‚ç§‘å§”/ä¸­å…³æ‘ç®¡å§”
    region: åŒ—äº¬å¸‚
    adcode_prov: 11
    homepage: "https://kw.beijing.gov.cn/"
    # å¾…äºŒæ¬¡åˆ†æåè¡¥å……è¯¦ç»†é…ç½®

  - name: ä¸Šæµ·å¸‚ç§‘å§”
    region: ä¸Šæµ·å¸‚
    adcode_prov: 31
    homepage: "https://stcsm.sh.gov.cn/"

# ==================== ç»Ÿè®¡å±€æŒ‡æ ‡ ====================
nbs_indicators:
  # âš ï¸ ç¼–ç éœ€é€šè¿‡æµè§ˆå™¨F12éªŒè¯
  - code: "A0101"
    name: "åœ°åŒºç”Ÿäº§æ€»å€¼"
    freq: "annual"

  - code: "A0RD01"
    name: "R&Dç»è´¹æ”¯å‡º"
    freq: "annual"

  - code: "A0RD02"
    name: "R&Dç»è´¹å¼ºåº¦"
    freq: "annual"

# ==================== CNIPA ====================
cnipa:
  monthly_index: "https://www.cnipa.gov.cn/col/col3482/"
  annual_index:  "https://www.cnipa.gov.cn/col/col94/"
```

---

### 3.3 åˆ†æ­¥æ‰§è¡Œ(æ¨èæ–¹å¼)

#### Step 1: ä¸­å¤®æ”¿ç­–æŠ“å–

```bash
# æ‰§è¡Œ
make crawl_gov_central

# ç­‰ä»·äº
source .venv/bin/activate
python scripts/crawl_gov_central.py
```

**é¢„æœŸè¾“å‡º**:
```
[INFO] 2025-11-11 10:30:00 [central] gov_policy_department pages 1..10
[INFO] 2025-11-11 10:30:15 [list] https://www.gov.cn/.../home_1.htm -> 25 links
[INFO] 2025-11-11 10:30:45 [detail] Saved corpus/raw/policy_central/éƒ¨é—¨æ–‡ä»¶/2023/a1b2c3d4.json
...
[INFO] 2025-11-11 11:45:00 [OK] Crawled 500 documents
```

**æ£€æŸ¥è¾“å‡º**:
```bash
# æŸ¥çœ‹æŠ“å–çš„æ–‡ä»¶æ•°é‡
find corpus/raw/policy_central -name "*.json" | wc -l
# é¢„æœŸ: â‰¥500

# éšæœºæŠ½æŸ¥ä¸€æ¡
cat corpus/raw/policy_central/éƒ¨é—¨æ–‡ä»¶/2023/$(ls corpus/raw/policy_central/éƒ¨é—¨æ–‡ä»¶/2023 | head -1)
```

---

#### Step 2: çœçº§æ”¿ç­–æŠ“å–

```bash
# æ‰§è¡Œ
make crawl_provinces

# ç­‰ä»·äº
python scripts/crawl_provinces.py
```

**é¢„æœŸè¾“å‡º**:
```
[INFO] 2025-11-11 12:00:00 [prov] å¹¿ä¸œçœç§‘æŠ€å… starting...
[INFO] 2025-11-11 12:00:15 [gd] Found 30 links in page 1
[INFO] 2025-11-11 12:01:00 [gd] Saved corpus/raw/policy_prov/å¹¿ä¸œçœ/2023/def456abc.json
...
[INFO] 2025-11-11 13:30:00 [OK] Crawled 200 documents (å¹¿ä¸œçœ)
```

**æ£€æŸ¥è¾“å‡º**:
```bash
# æŸ¥çœ‹æŠ“å–çš„æ–‡ä»¶æ•°é‡
find corpus/raw/policy_prov -name "*.json" | wc -l
# é¢„æœŸ: â‰¥200(ä»…å¹¿ä¸œçœ)

# æŸ¥çœ‹çœä»½åˆ†å¸ƒ
ls corpus/raw/policy_prov/
# é¢„æœŸ: å¹¿ä¸œçœ/ åŒ—äº¬å¸‚/ ...
```

---

#### Step 3: ç»Ÿè®¡å±€æ•°æ®æŠ“å–

**é‡è¦**: æ‰§è¡Œå‰å¿…é¡»éªŒè¯æŒ‡æ ‡ç¼–ç 

```bash
# 1. æ‰“å¼€æµè§ˆå™¨è®¿é—®
https://data.stats.gov.cn/easyquery.htm?cn=G0104

# 2. F12æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Networkæ ‡ç­¾
# 3. åœ¨é¡µé¢é€‰æ‹©æŒ‡æ ‡(å¦‚"åœ°åŒºç”Ÿäº§æ€»å€¼")
# 4. æŸ¥çœ‹XHRè¯·æ±‚ä¸­çš„dfwdså‚æ•°
# ç¤ºä¾‹:
# {"wdcode":"zb","valuecode":"A0101"}

# 5. æ›´æ–°seeds_sites.yamlä¸­çš„codeå­—æ®µ
```

**æ‰§è¡ŒæŠ“å–**:
```bash
# æ‰§è¡Œ
make fetch_nbs

# ç­‰ä»·äº
python scripts/fetch_nbs_panel.py
```

**é¢„æœŸè¾“å‡º**:
```
[INFO] 2025-11-11 14:00:00 Fetching indicator A0101 (åœ°åŒºç”Ÿäº§æ€»å€¼)
[INFO] 2025-11-11 14:00:05 Saved raw JSON: data/nbs_raw/A0101.json
[INFO] 2025-11-11 14:00:10 Normalized 465 rows (31 provinces Ã— 15 years)
[INFO] 2025-11-11 14:01:00 Fetching indicator A0RD01 (R&Dç»è´¹æ”¯å‡º)
...
[OK] Wrote data/nbs_panel_long.csv (2000 rows)
```

**æ£€æŸ¥è¾“å‡º**:
```bash
# æŸ¥çœ‹é•¿è¡¨
head data/nbs_panel_long.csv

# ç»Ÿè®¡è¡Œæ•°
wc -l data/nbs_panel_long.csv
# é¢„æœŸ: â‰¥2000è¡Œ

# éªŒè¯æ•°æ®è´¨é‡(äººå·¥æ ¸å¯¹3ä¸ªæŒ‡æ ‡Ã—3çœÃ—3å¹´)
# æ‰“å¼€https://data.stats.gov.cn,æ‰‹åŠ¨æŸ¥è¯¢å¯¹æ¯”
```

---

#### Step 4: CNIPAä¸“åˆ©æ•°æ®æŠ“å–

```bash
# æ‰§è¡Œ
make fetch_cnipa

# ç­‰ä»·äº
python scripts/fetch_cnipa_reports.py
```

**é¢„æœŸè¾“å‡º**:
```
[INFO] 2025-11-11 15:00:00 Listing monthly PDFs from https://www.cnipa.gov.cn/col/col3482/
[INFO] 2025-11-11 15:00:10 Found 36 monthly reports (2023-2025)
[INFO] 2025-11-11 15:00:15 Downloading 2025å¹´5æœˆç»Ÿè®¡æœˆæŠ¥.pdf...
[INFO] 2025-11-11 15:00:30 Parsing PDF tables...
[INFO] 2025-11-11 15:00:45 Extracted 31 rows (çœä»½åˆ†å¸ƒ)
...
[OK] Wrote data/cnipa_panel_long.csv (1200 rows)
```

**æ£€æŸ¥è¾“å‡º**:
```bash
# æŸ¥çœ‹åŸå§‹PDF
ls data/cnipa_raw/
# é¢„æœŸ: 2023-05.pdf, 2023-06.pdf, ...

# æŸ¥çœ‹é•¿è¡¨
head data/cnipa_panel_long.csv

# ç»Ÿè®¡è¡Œæ•°
wc -l data/cnipa_panel_long.csv
# é¢„æœŸ: â‰¥1000è¡Œ

# éªŒè¯åˆè®¡å€¼(éšæœºæŠ½2ä¸ªæœˆä»½å¯¹æ¯”å®˜ç½‘è¡¨æ ¼)
```

---

### 3.4 ä¸€é”®æ‰§è¡Œ(ç”Ÿäº§æ¨¡å¼)

```bash
# ä¸€æ¬¡æ€§æ‰§è¡Œå…¨éƒ¨æŠ“å–
make crawl

# ç­‰ä»·äº
make crawl_gov_central && \
make crawl_provinces && \
make fetch_nbs && \
make fetch_cnipa
```

**é€‚ç”¨åœºæ™¯**:
- âœ… ç¯å¢ƒå·²éªŒè¯
- âœ… é…ç½®æ–‡ä»¶å·²å®Œå–„
- âœ… é¦–è½®å·²äººå·¥è·‘é€š
- âŒ ä¸é€‚åˆé¦–æ¬¡è¿è¡Œ(æ— æ³•å®šä½é”™è¯¯)

---

### 3.5 æ—¥å¿—ä¸ç›‘æ§

#### æ—¥å¿—æ–‡ä»¶ä½ç½®

```bash
results/logs/
â”œâ”€â”€ gov_central.log        # ä¸­å¤®æ”¿ç­–çˆ¬è™«æ—¥å¿—
â”œâ”€â”€ prov.log               # çœçº§æ”¿ç­–çˆ¬è™«æ—¥å¿—
â”œâ”€â”€ nbs_fetch.log          # ç»Ÿè®¡å±€æŠ“å–æ—¥å¿—
â”œâ”€â”€ cnipa_fetch.log        # CNIPAæŠ“å–æ—¥å¿—
â””â”€â”€ cnipa_parse_fail.txt   # PDFè§£æå¤±è´¥åˆ—è¡¨
```

#### å®æ—¶ç›‘æ§

```bash
# ç›‘æ§ä¸­å¤®æ”¿ç­–çˆ¬è™«
tail -f results/logs/gov_central.log

# ç»Ÿè®¡å·²æŠ“å–æ–‡ä»¶æ•°
watch -n 5 'find corpus/raw/policy_central -name "*.json" | wc -l'

# æ£€æŸ¥é”™è¯¯
grep "ERROR" results/logs/*.log
```

#### CheckpointçŠ¶æ€

```bash
# æŸ¥çœ‹æ–­ç‚¹ç»­çˆ¬çŠ¶æ€
cat results/checkpoints/gov_central.json

# è¾“å‡ºç¤ºä¾‹:
# {
#   "gov_policy_department": {
#     "next_page": 5,
#     "last_update": "2025-11-11T11:45:00+08:00"
#   }
# }
```

---

## å››ã€è´¨é‡ä¿è¯

### 4.1 åˆè§„æ€§ä¿éšœ

#### Robotsåè®®æ£€æŸ¥

**è‡ªåŠ¨æ£€æŸ¥(å·²å†…ç½®crawler_common.py)**:
```python
def check_robots(url):
    """æ£€æŸ¥URLæ˜¯å¦è¢«robots.txtç¦æ­¢"""
    domain = urlparse(url).netloc
    robots_url = f"https://{domain}/robots.txt"

    rp = urllib.robotparser.RobotFileParser()
    rp.set_url(robots_url)
    rp.read()

    user_agent = "PSC-Graph/0.1"
    if not rp.can_fetch(user_agent, url):
        raise Exception(f"[ROBOTS] {url} is disallowed by robots.txt")
```

**æ‰‹åŠ¨éªŒè¯**:
```bash
# ä¸­å›½æ”¿åºœç½‘
curl https://www.gov.cn/robots.txt

# æ£€æŸ¥æ”¿ç­–æ ç›®æ˜¯å¦å…è®¸
# å…è®¸: /zhengce/*, /home_*.htm
# ç¦æ­¢: /2016*/, /premier/
```

#### èŠ‚æµç›‘æ§

**QPSç»Ÿè®¡(æ¯5åˆ†é’Ÿ)**:
```bash
# æŸ¥çœ‹æœ€è¿‘è¯·æ±‚é¢‘ç‡
grep "polite_get" results/logs/gov_central.log | tail -100 | \
awk '{print $1" "$2}' | uniq -c

# é¢„æœŸè¾“å‡º:
# 5 2025-11-11 10:30:00  (çº¦1 req/s)
# 4 2025-11-11 10:30:05
# 6 2025-11-11 10:30:10
```

#### é”™è¯¯é‡è¯•æ—¥å¿—

```bash
# æŸ¥çœ‹é‡è¯•è®°å½•
grep "Retry" results/logs/*.log

# ç¤ºä¾‹è¾“å‡º:
# [WARN] 2025-11-11 10:35:00 [Retry 1/5] HTTP 503, retrying in 1.0s...
# [WARN] 2025-11-11 10:35:05 [Retry 2/5] HTTP 503, retrying in 2.0s...
# [INFO] 2025-11-11 10:35:12 [Retry] Success after 2 attempts
```

---

### 4.2 æ•°æ®å®Œæ•´æ€§æ ¡éªŒ

#### SHA256å»é‡éªŒè¯

```python
# å†…ç½®æ£€æŸ¥é€»è¾‘
def save_json(doc, path):
    sha = hashlib.sha256(doc["content_text"].encode('utf-8')).hexdigest()
    doc["sha256"] = sha

    # æ£€æŸ¥å»é‡
    existing = glob.glob(f"corpus/**/{sha[:16]}.json", recursive=True)
    if existing:
        logger.info(f"[SKIP] Duplicate doc (SHA256={sha[:16]})")
        return

    # ä¿å­˜
    path.parent.mkdir(parents=True, exist_ok=True)
    json.dump(doc, open(path, "w", encoding="utf-8"), ensure_ascii=False, indent=2)
```

**æ‰‹åŠ¨éªŒè¯å»é‡ç‡**:
```bash
# ç»Ÿè®¡æ€»æ–‡ä»¶æ•°
total=$(find corpus/raw -name "*.json" | wc -l)

# ç»Ÿè®¡å”¯ä¸€SHA256æ•°
unique=$(find corpus/raw -name "*.json" -exec grep -h '"sha256"' {} \; | sort -u | wc -l)

# è®¡ç®—å»é‡ç‡
echo "å»é‡ç‡: $unique / $total = $(bc <<< "scale=2; $unique*100/$total")%"
# é¢„æœŸ: â‰¥99%
```

#### å­—æ®µå®Œæ•´æ€§æ£€æŸ¥

```bash
# æ£€æŸ¥å¿…é¡»å­—æ®µç¼ºå¤±
python <<EOF
import json, glob

required_fields = ["title", "pub_date", "issuer", "source_url", "content_text", "sha256"]
missing_count = 0

for f in glob.glob("corpus/raw/policy_central/**/*.json", recursive=True):
    doc = json.load(open(f, "r", encoding="utf-8"))
    for field in required_fields:
        if field not in doc or not doc[field]:
            print(f"[MISSING] {f}: {field}")
            missing_count += 1

print(f"\nç¼ºå¤±å­—æ®µæ€»æ•°: {missing_count}")
print(f"ç¼ºå¤±ç‡: {missing_count / (len(glob.glob('corpus/raw/policy_central/**/*.json', recursive=True)) * len(required_fields)) * 100:.2f}%")
EOF

# é¢„æœŸè¾“å‡º:
# ç¼ºå¤±å­—æ®µæ€»æ•°: 3
# ç¼ºå¤±ç‡: 0.15%  (â‰¤1%ä¸ºåˆæ ¼)
```

---

### 4.3 äººå·¥æŠ½æŸ¥éªŒè¯

#### æ”¿ç­–æ–‡æœ¬è´¨æ£€

**æŠ½æŸ¥è„šæœ¬**:
```bash
# éšæœºæŠ½å–10æ¡æ”¿ç­–
sample=$(find corpus/raw/policy_central -name "*.json" | shuf | head -10)

# æå–source_url
echo "$sample" | while read file; do
    url=$(jq -r '.source_url' "$file")
    title=$(jq -r '.title' "$file")
    echo "[$file]"
    echo "æ ‡é¢˜: $title"
    echo "URL: $url"
    echo "---"
done > results/quality_check_sample.txt

# äººå·¥è®¿é—®URL,å¯¹æ¯”æ ‡é¢˜ã€æ–‡å·ã€å‘å¸ƒæ—¥æœŸã€æ­£æ–‡å‰100å­—
```

**è´¨æ£€è¡¨æ ¼**:
| åºå· | æ–‡ä»¶è·¯å¾„ | æ ‡é¢˜ä¸€è‡´ | æ–‡å·ä¸€è‡´ | æ—¥æœŸä¸€è‡´ | æ­£æ–‡ä¸€è‡´ | å¤‡æ³¨ |
|-----|---------|---------|---------|---------|---------|-----|
| 1 | corpus/.../abc123.json | âœ… | âœ… | âœ… | âœ… | - |
| 2 | corpus/.../def456.json | âœ… | âœ… | âš ï¸ å·®1å¤© | âœ… | æ—¶åŒºé—®é¢˜ |
| ... | ... | ... | ... | ... | ... | ... |

**é€šè¿‡æ ‡å‡†**: 10æ¡ä¸­â‰¥9æ¡å®Œå…¨ä¸€è‡´,â‰¥1æ¡å…è®¸æ—¶åŒºå·®å¼‚

---

#### ç»Ÿè®¡æ•°æ®è´¨æ£€

**äººå·¥æ ¸å¯¹æ­¥éª¤**:
```bash
# 1. ä»é•¿è¡¨ä¸­æŠ½å–éªŒè¯æ ·æœ¬
# 3ä¸ªæŒ‡æ ‡Ã—3çœÃ—3å¹´ = 27ä¸ªæ•°æ®ç‚¹
python <<EOF
import pandas as pd

df = pd.read_csv("data/nbs_panel_long.csv")

# æŠ½å–æ ·æœ¬
indicators = ["A0101", "A0RD01", "A0RD02"]
provinces = ["44", "11", "31"]  # å¹¿ä¸œã€åŒ—äº¬ã€ä¸Šæµ·
years = [2021, 2022, 2023]

sample = df[
    (df["indicator_code"].isin(indicators)) &
    (df["adcode_prov"].isin(provinces)) &
    (df["year"].isin(years))
]

sample.to_csv("results/nbs_quality_check_sample.csv", index=False)
print(f"æŠ½å–æ ·æœ¬: {len(sample)} è¡Œ")
EOF

# 2. äººå·¥è®¿é—®ç»Ÿè®¡å±€é—¨æˆ·,é€æ¡æŸ¥è¯¢å¯¹æ¯”
# https://data.stats.gov.cn/easyquery.htm?cn=G0104

# 3. è®°å½•å¯¹æ¯”ç»“æœ
```

**è´¨æ£€è¡¨æ ¼**:
| çœä»½ | å¹´ä»½ | æŒ‡æ ‡ | æˆ‘æ–¹æ•°å€¼ | å®˜ç½‘æ•°å€¼ | è¯¯å·® | å¤‡æ³¨ |
|-----|------|------|---------|---------|------|-----|
| å¹¿ä¸œçœ | 2023 | GDP | 135673.16 | 135673.16 | 0.00% | âœ… |
| åŒ—äº¬å¸‚ | 2023 | GDP | 43760.70 | 43760.70 | 0.00% | âœ… |
| ... | ... | ... | ... | ... | ... | ... |

**é€šè¿‡æ ‡å‡†**: 27ä¸ªæ•°æ®ç‚¹ä¸­è¯¯å·®â‰¤0.1%

---

#### CNIPAæ•°æ®è´¨æ£€

**åˆè®¡å€¼éªŒè¯**:
```bash
# 1. éšæœºæŠ½2ä¸ªæœˆä»½
months=$(ls data/cnipa_raw/*.pdf | shuf | head -2)

# 2. å¯¹æ¯”è¡¨æ ¼åˆè®¡å€¼
echo "$months" | while read pdf; do
    echo "éªŒè¯: $pdf"

    # ä»é•¿è¡¨ä¸­æå–è¯¥æœˆæ•°æ®
    period=$(basename "$pdf" .pdf)
    sum=$(awk -F',' -v p="$period" '$3==p {sum+=$6} END {print sum}' data/cnipa_panel_long.csv)

    echo "æˆ‘æ–¹åˆè®¡: $sum"
    echo "è¯·æ‰‹åŠ¨æ‰“å¼€PDF,æ ¸å¯¹è¡¨æ ¼åˆè®¡æ "
    echo "---"
done
```

**é€šè¿‡æ ‡å‡†**: 2ä¸ªæœˆä»½åˆè®¡å€¼è¯¯å·®â‰¤0.1%

---

### 4.4 æ–­ç‚¹ç»­çˆ¬æµ‹è¯•

**æµ‹è¯•æ­¥éª¤**:
```bash
# 1. å¯åŠ¨çˆ¬è™«
make crawl_gov_central &
PID=$!

# 2. çˆ¬å–2åˆ†é’Ÿåå¼ºåˆ¶ä¸­æ–­
sleep 120
kill -9 $PID

# 3. æ£€æŸ¥checkpoint
cat results/checkpoints/gov_central.json
# é¢„æœŸè¾“å‡º: {"gov_policy_department": {"next_page": 3, ...}}

# 4. é‡æ–°å¯åŠ¨
make crawl_gov_central

# 5. éªŒè¯ä»æ–­ç‚¹ç»§ç»­
# æŸ¥çœ‹æ—¥å¿—: [INFO] Resume from page 3
grep "Resume" results/logs/gov_central.log
```

**é€šè¿‡æ ‡å‡†**: é‡å¯åä»æ–­ç‚¹é¡µç ç»§ç»­,æ— é‡å¤ä¸‹è½½

---

## äº”ã€å¸¸è§é—®é¢˜ä¸æ•…éšœæ’é™¤

### 5.1 çˆ¬è™«ç›¸å…³

#### Q1: HTTP 403 Forbidden

**ç—‡çŠ¶**:
```
[ERROR] HTTP 403 Forbidden: https://www.gov.cn/zhengce/...
```

**åŸå› åˆ†æ**:
- User-Agentç¼ºå¤±æˆ–è¢«è¯†åˆ«ä¸ºçˆ¬è™«
- IPè¢«ä¸´æ—¶é™åˆ¶
- è¯·æ±‚å¤´ç¼ºå°‘å¿…è¦å­—æ®µ

**è§£å†³æ–¹æ¡ˆ**:
```python
# æ£€æŸ¥crawler_common.pyä¸­çš„User-Agent
session.headers.update({
    "User-Agent": "PSC-Graph/0.1 (+research; contact: policy@psc-graph.org)",
    "Accept": "text/html,application/xhtml+xml",
    "Accept-Language": "zh-CN,zh;q=0.9",
    "Referer": "https://www.gov.cn/"
})

# å¢åŠ å»¶è¿Ÿ
time.sleep(2.0 + random.random())
```

---

#### Q2: åˆ†é¡µæŠ“å–ä¸å®Œæ•´

**ç—‡çŠ¶**:
```
[INFO] Found 0 links in page 5
[INFO] Stopped at page 5 (expected 10 pages)
```

**åŸå› åˆ†æ**:
- åˆ†é¡µé“¾æ¥è§£æé”™è¯¯
- max_pagesè®¾ç½®è¿‡å°
- åˆ†é¡µæ¨¡å¼å˜æ›´

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æ‰‹åŠ¨è®¿é—®åˆ†é¡µURL
curl "https://www.gov.cn/zhengce/zhengceku/bmwj/home_5.htm" | grep "<a"

# 2. æ£€æŸ¥seedsé…ç½®
grep "max_pages" data/seeds/seeds_sites.yaml

# 3. æ£€æŸ¥æ—¥å¿—ä¸­çš„é“¾æ¥è§£æ
grep "extract_detail_links" results/logs/gov_central.log

# 4. è°ƒæ•´detail_link_selector
# ç¡®ä¿é€‰æ‹©å™¨æ­£ç¡®åŒ¹é…è¯¦æƒ…é¡µé“¾æ¥
```

**è§£å†³æ–¹æ¡ˆ**:
```yaml
# æ›´æ–°seeds_sites.yaml
central:
  - name: gov_policy_department
    max_pages: 20  # å¢åŠ é¡µæ•°
    detail_link_selector: "a[href*='content_']"  # æ›´ç²¾ç¡®çš„é€‰æ‹©å™¨
```

---

#### Q3: PDFè¡¨æ ¼è§£æå¤±è´¥

**ç—‡çŠ¶**:
```
[WARN] parse fail data/cnipa_raw/2023-05.pdf: list index out of range
```

**åŸå› åˆ†æ**:
- PDFä¸ºæ‰«æä»¶(æ— æ–‡æœ¬å±‚)
- è¡¨æ ¼æ’ç‰ˆå¤æ‚,pdfplumberæ— æ³•è¯†åˆ«
- PDFæŸå

**è§£å†³æ–¹æ¡ˆ**:

**æ–¹æ¡ˆ1: æ£€æŸ¥PDFç±»å‹**
```bash
pdfinfo data/cnipa_raw/2023-05.pdf | grep "Pages"
pdftotext data/cnipa_raw/2023-05.pdf - | head -20

# å¦‚æœè¾“å‡ºä¸ºç©ºæˆ–ä¹±ç  â†’ æ‰«æä»¶,éœ€OCR
```

**æ–¹æ¡ˆ2: ä½¿ç”¨OCRå¤„ç†æ‰«æä»¶**
```bash
# å®‰è£…Tesseract
sudo apt install tesseract-ocr tesseract-ocr-chi-sim

# ä½¿ç”¨pdf2image + pytesseract
pip install pdf2image pytesseract
```

```python
# ä¿®æ”¹parse_cnipa_pdf_tables.py
from pdf2image import convert_from_path
import pytesseract

def parse_scanned_pdf(pdf_path):
    """å¤„ç†æ‰«æä»¶PDF"""
    images = convert_from_path(pdf_path, dpi=300)
    text = ""
    for img in images:
        text += pytesseract.image_to_string(img, lang='chi_sim')
    # åç»­è§£ææ–‡æœ¬...
```

**æ–¹æ¡ˆ3: ä½¿ç”¨camelot(å¤æ‚è¡¨æ ¼)**
```bash
# å®‰è£…camelot-py
pip install camelot-py[cv]

# æ›¿æ¢pdfplumber
import camelot
tables = camelot.read_pdf(pdf_path, flavor='lattice')
df = tables[0].df
```

---

### 5.2 æ•°æ®ç›¸å…³

#### Q4: ç»Ÿè®¡å±€æŒ‡æ ‡ç¼–ç é”™è¯¯

**ç—‡çŠ¶**:
```
[ERROR] No data returned for indicator A0101
æˆ–
è¿”å›çš„æ•°æ®åˆ—å…¨ä¸ºç©º
```

**åŸå› **: æŒ‡æ ‡ç¼–ç è¿‡æœŸæˆ–é—¨æˆ·æ”¹ç‰ˆ

**è§£å†³æ­¥éª¤**:

**Step 1: æµè§ˆå™¨éªŒè¯**
```
1. æ‰“å¼€ https://data.stats.gov.cn/easyquery.htm?cn=G0104
2. F12æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Networkæ ‡ç­¾
3. æ¸…ç©ºNetworkè®°å½•
4. åœ¨é¡µé¢é€‰æ‹©"æŒ‡æ ‡" â†’ é€‰æ‹©ä½ éœ€è¦çš„æŒ‡æ ‡(å¦‚"åœ°åŒºç”Ÿäº§æ€»å€¼")
5. åœ¨Networkæ ‡ç­¾æ‰¾åˆ°easyquery.htmçš„POSTè¯·æ±‚
6. æŸ¥çœ‹Request Payloadä¸­çš„dfwdsæ•°ç»„
7. å¤åˆ¶valuecodeå€¼(å¦‚"A0101")
```

**Step 2: æ›´æ–°é…ç½®**
```yaml
# æ›´æ–°data/seeds/seeds_sites.yaml
nbs_indicators:
  - code: "A0101"  # ä½¿ç”¨æµè§ˆå™¨éªŒè¯çš„ç¼–ç 
    name: "åœ°åŒºç”Ÿäº§æ€»å€¼"
    freq: "annual"
```

**Step 3: æ¸…é™¤ç¼“å­˜é‡æ–°æŠ“å–**
```bash
rm data/nbs_raw/A0101.json
make fetch_nbs
```

---

#### Q5: çœä»½åç§°ä¸adcodeä¸åŒ¹é…

**ç—‡çŠ¶**:
```
æ•°æ®åˆå¹¶æ—¶æ‰¾ä¸åˆ°åŒ¹é…çš„çœä»½
æˆ–
åŒä¸€çœä»½å‡ºç°å¤šç§åç§°: "åŒ—äº¬"ã€"åŒ—äº¬å¸‚"ã€"åŒ—äº¬åœ°åŒº"
```

**åŸå› **: ä¸åŒæ•°æ®æºçš„çœä»½åç§°æ ¼å¼ä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨æ ‡å‡†æ˜ å°„è¡¨

**Step 1: æ£€æŸ¥province_codes.csv**
```bash
cat data/province_codes.csv
```

```csv
province_name,adcode_prov
åŒ—äº¬å¸‚,11
å¤©æ´¥å¸‚,12
æ²³åŒ—çœ,13
...
```

**Step 2: æ ‡å‡†åŒ–è§„åˆ™**
```python
def standardize_province_name(name):
    """æ ‡å‡†åŒ–çœä»½åç§°"""
    # è§„åˆ™1: ç›´è¾–å¸‚å¿…é¡»å¸¦"å¸‚"åç¼€
    direct_cities = ["åŒ—äº¬", "å¤©æ´¥", "ä¸Šæµ·", "é‡åº†"]
    for city in direct_cities:
        if name.startswith(city) and not name.endswith("å¸‚"):
            return city + "å¸‚"

    # è§„åˆ™2: è‡ªæ²»åŒºä¸ç®€å†™
    if "å†…è’™å¤" in name and "è‡ªæ²»åŒº" not in name:
        return "å†…è’™å¤è‡ªæ²»åŒº"

    # è§„åˆ™3: å»é™¤å¤šä½™è¯æ±‡
    name = name.replace("åœ°åŒº", "").replace("çœä»½", "")

    return name.strip()
```

**Step 3: åœ¨æ•°æ®å¤„ç†æ—¶åº”ç”¨**
```python
# fetch_nbs_panel.py / prep_panel.py ä¸­
df["province_name"] = df["province_name"].apply(standardize_province_name)

# ä¸æ˜ å°„è¡¨åˆå¹¶
codes = pd.read_csv("data/province_codes.csv")
df = df.merge(codes, on="province_name", how="left")

# æ£€æŸ¥æœªåŒ¹é…
unmatched = df[df["adcode_prov"].isna()]
if not unmatched.empty:
    print("[WARN] Unmatched provinces:")
    print(unmatched["province_name"].unique())
```

---

### 5.3 ç¯å¢ƒç›¸å…³

#### Q6: pdfplumberå®‰è£…å¤±è´¥

**ç—‡çŠ¶**:
```
ERROR: Failed building wheel for pdfminer.six
æˆ–
error: Microsoft Visual C++ 14.0 is required
```

**åŸå› **: pdfminer.sixéœ€è¦ç¼–è¯‘,ç¼ºå°‘ç¼–è¯‘å·¥å…·é“¾

**è§£å†³æ–¹æ¡ˆ**:

**Linux (Ubuntu/Debian)**:
```bash
sudo apt-get install -y python3-dev build-essential
pip install pdfplumber
```

**macOS**:
```bash
# å®‰è£…Xcode Command Line Tools
xcode-select --install

# æˆ–ä½¿ç”¨Homebrew
brew install python3
pip install pdfplumber
```

**Windows**:
```bash
# æ–¹æ¡ˆ1: å®‰è£…Visual Studio Build Tools
# ä¸‹è½½: https://visualstudio.microsoft.com/downloads/
# é€‰æ‹©: C++ build tools

# æ–¹æ¡ˆ2: ä½¿ç”¨conda
conda install -c conda-forge pdfplumber

# æ–¹æ¡ˆ3: ä½¿ç”¨é¢„ç¼–è¯‘wheel
pip install --use-pep517 pdfplumber
```

---

#### Q7: ç£ç›˜ç©ºé—´ä¸è¶³

**ç—‡çŠ¶**:
```
[ERROR] [Errno 28] No space left on device
```

**å­˜å‚¨éœ€æ±‚ä¼°ç®—**:
```yaml
åŸå§‹æ•°æ®:
  ä¸­å¤®æ”¿ç­–(HTML+PDF): ~2GB (2009-è‡³ä»Š)
  çœçº§æ”¿ç­–(5çœÃ—3å¹´): ~500MB
  ç»Ÿè®¡å±€JSON: ~100MB
  CNIPA PDF: ~200MB
  æ€»è®¡: ~3GB

å¤„ç†åæ•°æ®:
  æŠ½å–ç»“æœJSON: ~1GB
  ç´¢å¼•(BM25+FAISS): ~2GB
  å›¾æ•°æ®: ~500MB
  æ€»è®¡: ~3.5GB

å®Œæ•´é¡¹ç›®(åŒ…æ‹¬æ¨¡å‹): ~10GB
```

**è§£å†³æ–¹æ¡ˆ**:

**æ–¹æ¡ˆ1: æ¸…ç†æ—§æ•°æ®**
```bash
# ä»…ä¿ç•™æœ€è¿‘1å¹´çš„HTML
find corpus/raw/policy_central -name "*.json" -mtime +365 -delete

# PDFè§£æååˆ é™¤åŸæ–‡ä»¶(å¯é€‰)
rm data/cnipa_raw/*.pdf

# æ¸…ç†æ—§æ—¥å¿—
find results/logs -name "*.log" -mtime +30 -delete
```

**æ–¹æ¡ˆ2: åˆ†æ‰¹å¤„ç†**
```bash
# ä»…æŠ“å–2023-è‡³ä»Š
# ä¿®æ”¹seeds_sites.yaml
central:
  - name: gov_policy_department
    max_pages: 3  # å‡å°‘é¡µæ•°
    start_year: 2023  # æ·»åŠ å¹´ä»½è¿‡æ»¤
```

**æ–¹æ¡ˆ3: ä½¿ç”¨å¤–éƒ¨å­˜å‚¨**
```bash
# æŒ‚è½½å¤§å®¹é‡ç£ç›˜
mkdir /mnt/data
# è½¯é“¾æ¥åˆ°é¡¹ç›®ç›®å½•
ln -s /mnt/data/corpus corpus/
ln -s /mnt/data/data data/
```

---

## å…­ã€éªŒæ”¶æ ‡å‡†

### 6.1 æ•°æ®é‡æ ‡å‡†

**æœ€å°å¯è¿è¡Œæ•°æ®æ¸…å•(é¦–è½®å°±ç»ª)**:

| æ•°æ®æº | æœ€å°æ ·æœ¬é‡ | æ—¶é—´èŒƒå›´ | å¤‡æ³¨ |
|-------|----------|---------|-----|
| **ä¸­å¤®æ”¿ç­–-å›½åŠ¡é™¢æ–‡ä»¶** | â‰¥100æ¡ | 2023-è‡³ä»Š | åŒ…å«æ–‡å·ã€æ­£æ–‡ã€é™„ä»¶ |
| **ä¸­å¤®æ”¿ç­–-éƒ¨é—¨æ–‡ä»¶** | â‰¥300æ¡ | 2023-è‡³ä»Š | åŒ…å«ç§‘æŠ€ã€å·¥ä¿¡ã€å‘æ”¹å§”ç­‰ |
| **ä¸­å¤®æ”¿ç­–-æ”¿ç­–è§£è¯»** | â‰¥50æ¡ | 2023-è‡³ä»Š | ä¸æ­£å¼æ–‡ä»¶å¯¹åº”å…³ç³»æ˜ç¡® |
| **çœçº§æ”¿ç­–-å¹¿ä¸œçœ** | â‰¥200æ¡ | è¿‘3å¹´å®Œæ•´ | åˆ†é¡µå…¨è¦†ç›– |
| **çœçº§æ”¿ç­–-äº¬æ²ªæµ™** | â‰¥50æ¡/çœ | ç¤ºèŒƒæ ·æœ¬ | éªŒè¯æŠ“å–é€»è¾‘é€šç”¨æ€§ |
| **ç»Ÿè®¡å±€-GDP** | 31çœÃ—15å¹´=465æ¡ | 2009-2023 | å¹´åº¦ç°ä»·GDP |
| **ç»Ÿè®¡å±€-R&D** | 31çœÃ—10å¹´=310æ¡ | 2013-2023 | R&Dç»è´¹ä¸å¼ºåº¦ |
| **ç»Ÿè®¡å±€-å·¥ä¸š** | 31çœÃ—5å¹´Ã—12æœˆâ‰ˆ1860æ¡ | 2019-2023 | è§„ä¸Šå·¥ä¸šå¢åŠ å€¼ |
| **CNIPA-æœˆæŠ¥** | 31çœÃ—12æœˆÃ—3å¹´â‰ˆ1116æ¡ | 2021-2023 | å‘æ˜ä¸“åˆ©æˆæƒé‡ |
| **CNIPA-å¹´æŠ¥** | 31çœÃ—10å¹´=310æ¡ | 2013-2023 | ä¸“åˆ©ç”³è¯·/æˆæƒæ±‡æ€» |

**æ€»è®¡**: â‰¥4800æ¡è®°å½•

---

### 6.2 è´¨é‡éªŒæ”¶æ ‡å‡†

#### å¿…é¡»é€šè¿‡çš„æ£€æŸ¥é¡¹

| æ£€æŸ¥é¡¹ | æ ‡å‡† | æ£€æŸ¥æ–¹å¼ | é€šè¿‡æ¡ä»¶ |
|-------|------|---------|---------|
| **å­—æ®µå®Œæ•´æ€§** | å¿…é¡»å­—æ®µç¼ºå¤±ç‡â‰¤1% | è„šæœ¬è‡ªåŠ¨æ‰«æ | âœ… ç¼ºå¤±ç‡<1% |
| **æ—¥æœŸæ ¼å¼** | ISO8601æ ¼å¼é”™è¯¯ç‡â‰¤0.5% | æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ | âœ… é”™è¯¯ç‡<0.5% |
| **SHA256å»é‡** | å»é‡æœ‰æ•ˆç‡â‰¥99% | è®¡ç®—å”¯ä¸€hash/æ€»æ–‡ä»¶ | âœ… å»é‡ç‡â‰¥99% |
| **äººå·¥æŠ½æŸ¥-æ”¿ç­–** | ä¸€è‡´æ€§â‰¥95% | éšæœº10æ¡ä¸å®˜ç½‘å¯¹æ¯” | âœ… â‰¥9æ¡å®Œå…¨ä¸€è‡´ |
| **äººå·¥æŠ½æŸ¥-ç»Ÿè®¡** | è¯¯å·®â‰¤0.1% | 3æŒ‡æ ‡Ã—3çœÃ—3å¹´=27ç‚¹ | âœ… å…¨éƒ¨è¯¯å·®<0.1% |
| **äººå·¥æŠ½æŸ¥-CNIPA** | åˆè®¡å€¼è¯¯å·®â‰¤0.1% | éšæœº2ä¸ªæœˆä»½å¯¹æ¯” | âœ… åˆè®¡å€¼è¯¯å·®<0.1% |
| **source_urlæœ‰æ•ˆæ€§** | æœ‰æ•ˆç‡â‰¥99% | HTTP HEADè¯·æ±‚ | âœ… â‰¥99%è¿”å›200 |
| **retrieved_atè®°å½•** | è¦†ç›–ç‡100% | å­—æ®µå­˜åœ¨æ€§æ£€æŸ¥ | âœ… å…¨éƒ¨è®°å½• |
| **æ—¥å¿—å®Œæ•´æ€§** | æ— ä¸¥é‡é”™è¯¯ç¼ºå¤± | æ£€æŸ¥ERROR/CRITICAL | âœ… ä»…WARNINGå…è®¸ |
| **Robotséµå®ˆ** | è¿è§„æ¬¡æ•°=0 | æ—¥å¿—æ‰«æROBOTSæ ‡è®° | âœ… æ— è¿è§„è®°å½• |
| **QPSè¶…é™** | è¶…é™æ¬¡æ•°=0 | æ—¥å¿—æ—¶é—´æˆ³åˆ†æ | âœ… å¹³å‡QPSâ‰¤é™åˆ¶å€¼ |
| **å¼‚å¸¸é‡è¯•æˆåŠŸç‡** | â‰¥90% | ç»Ÿè®¡é‡è¯•æˆåŠŸ/æ€»é‡è¯• | âœ… æˆåŠŸç‡â‰¥90% |

---

### 6.3 æ–‡æ¡£äº¤ä»˜æ ‡å‡†

#### å¿…é¡»äº¤ä»˜çš„æ–‡ä»¶æ¸…å•

**âœ… ä»£ç æ–‡ä»¶**:
```
scripts/
â”œâ”€â”€ bootstrap.sh
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ crawler_common.py
â”œâ”€â”€ crawl_gov_central.py
â”œâ”€â”€ crawl_provinces.py
â”œâ”€â”€ fetch_nbs_panel.py
â”œâ”€â”€ fetch_cnipa_reports.py
â””â”€â”€ parse_cnipa_pdf_tables.py
```

**âœ… é…ç½®æ–‡ä»¶**:
```
data/
â”œâ”€â”€ seeds/seeds_sites.yaml
â””â”€â”€ province_codes.csv

Makefile (å«crawlç›®æ ‡)
```

**âœ… æ•°æ®æ–‡ä»¶(ç¤ºä¾‹)**:
```
corpus/raw/
â”œâ”€â”€ policy_central/éƒ¨é—¨æ–‡ä»¶/2023/*.json (â‰¥10æ¡)
â””â”€â”€ policy_prov/å¹¿ä¸œçœ/2023/*.json (â‰¥10æ¡)

data/
â”œâ”€â”€ nbs_panel_long.csv (â‰¥100è¡Œ)
â”œâ”€â”€ cnipa_panel_long.csv (â‰¥100è¡Œ)
â”œâ”€â”€ nbs_raw/*.json
â””â”€â”€ cnipa_raw/*.pdf
```

**âœ… æ—¥å¿—æ–‡ä»¶**:
```
results/
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ gov_central.log
â”‚   â”œâ”€â”€ prov.log
â”‚   â”œâ”€â”€ nbs_fetch.log
â”‚   â””â”€â”€ cnipa_fetch.log
â””â”€â”€ checkpoints/
    â”œâ”€â”€ gov_central.json
    â””â”€â”€ provinces.json
```

**âœ… æ–‡æ¡£**:
```
01_æ•°æ®çˆ¬å–æ–¹æ¡ˆ.md (æœ¬æ–‡æ¡£)
README.md (å¿«é€Ÿå¼€å§‹è¯´æ˜)
```

---

### 6.4 éªŒæ”¶æµç¨‹

#### Step 1: è‡ªåŠ¨åŒ–æ£€æŸ¥

```bash
# æ‰§è¡ŒéªŒæ”¶è„šæœ¬(éœ€åˆ›å»º)
bash scripts/acceptance_check.sh

# è„šæœ¬å†…å®¹ç¤ºä¾‹:
#!/bin/bash
echo "=== æ•°æ®çˆ¬å–æ¨¡å—éªŒæ”¶æ£€æŸ¥ ==="

# 1. æ–‡ä»¶æ•°é‡æ£€æŸ¥
policy_central=$(find corpus/raw/policy_central -name "*.json" | wc -l)
policy_prov=$(find corpus/raw/policy_prov -name "*.json" | wc -l)
nbs_rows=$(wc -l < data/nbs_panel_long.csv)
cnipa_rows=$(wc -l < data/cnipa_panel_long.csv)

echo "ä¸­å¤®æ”¿ç­–: $policy_central æ¡ (è¦æ±‚â‰¥500)"
echo "çœçº§æ”¿ç­–: $policy_prov æ¡ (è¦æ±‚â‰¥200)"
echo "ç»Ÿè®¡æ•°æ®: $nbs_rows è¡Œ (è¦æ±‚â‰¥2000)"
echo "ä¸“åˆ©æ•°æ®: $cnipa_rows è¡Œ (è¦æ±‚â‰¥1000)"

# 2. å­—æ®µå®Œæ•´æ€§
python scripts/check_field_completeness.py

# 3. SHA256å»é‡ç‡
python scripts/check_deduplication.py

# 4. æ—¥å¿—é”™è¯¯ç»Ÿè®¡
error_count=$(grep -c "ERROR" results/logs/*.log)
echo "æ—¥å¿—é”™è¯¯æ•°: $error_count (è¦æ±‚â‰¤10)"

echo "=== æ£€æŸ¥å®Œæˆ ==="
```

---

#### Step 2: äººå·¥æŠ½æŸ¥

**æŠ½æŸ¥ä»»åŠ¡åˆ†é…**:
| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥ä½œé‡ | å®Œæˆæ—¶é—´ |
|-----|-------|-------|---------|
| æ”¿ç­–æ–‡æœ¬10æ¡æ ¸å¯¹ | æ•°æ®å·¥ç¨‹å¸ˆA | 30åˆ†é’Ÿ | Day 14ä¸Šåˆ |
| ç»Ÿè®¡æ•°æ®27ç‚¹æ ¸å¯¹ | æ•°æ®å·¥ç¨‹å¸ˆB | 1å°æ—¶ | Day 14ä¸Šåˆ |
| CNIPA 2ä¸ªæœˆæ ¸å¯¹ | æ•°æ®å·¥ç¨‹å¸ˆA | 20åˆ†é’Ÿ | Day 14ä¸‹åˆ |

**æŠ½æŸ¥æŠ¥å‘Šæ¨¡æ¿**:
```markdown
## æ•°æ®çˆ¬å–è´¨é‡æŠ½æŸ¥æŠ¥å‘Š

**æŠ½æŸ¥æ—¥æœŸ**: 2025-11-11
**æŠ½æŸ¥äºº**: XXX

### 1. æ”¿ç­–æ–‡æœ¬(10æ¡éšæœºæ ·æœ¬)
| åºå· | æ ‡é¢˜ä¸€è‡´ | æ–‡å·ä¸€è‡´ | æ—¥æœŸä¸€è‡´ | æ­£æ–‡ä¸€è‡´ | å¤‡æ³¨ |
|-----|---------|---------|---------|---------|-----|
| 1 | âœ… | âœ… | âœ… | âœ… | - |
| 2 | âœ… | âœ… | âš ï¸ | âœ… | æ—¥æœŸå·®1å¤©(æ—¶åŒº) |
| ... | ... | ... | ... | ... | ... |

**ç»“è®º**: 10æ¡ä¸­9æ¡å®Œå…¨ä¸€è‡´,1æ¡æ—¶åŒºå·®å¼‚ â†’ âœ… é€šè¿‡

### 2. ç»Ÿè®¡æ•°æ®(27ä¸ªæ•°æ®ç‚¹)
| çœä»½ | å¹´ä»½ | æŒ‡æ ‡ | æˆ‘æ–¹ | å®˜ç½‘ | è¯¯å·® | å¤‡æ³¨ |
|-----|------|------|------|------|------|-----|
| å¹¿ä¸œ | 2023 | GDP | 135673.16 | 135673.16 | 0.00% | âœ… |
| ... | ... | ... | ... | ... | ... | ... |

**ç»“è®º**: 27ä¸ªç‚¹è¯¯å·®å‡<0.1% â†’ âœ… é€šè¿‡

### 3. CNIPAæ•°æ®(2ä¸ªæœˆä»½åˆè®¡å€¼)
| æœˆä»½ | æˆ‘æ–¹åˆè®¡ | PDFåˆè®¡ | è¯¯å·® | å¤‡æ³¨ |
|-----|---------|---------|------|-----|
| 2023-05 | 45328 | 45328 | 0.00% | âœ… |
| 2023-08 | 47892 | 47890 | 0.004% | âœ… å››èˆäº”å…¥ |

**ç»“è®º**: è¯¯å·®<0.1% â†’ âœ… é€šè¿‡

### æ€»ç»“
âœ… æ‰€æœ‰è´¨é‡æ£€æŸ¥é€šè¿‡,æ•°æ®å¯äº¤ä»˜ä½¿ç”¨
```

---

#### Step 3: éªŒæ”¶ç­¾å­—

**éªŒæ”¶å•æ¨¡æ¿**:
```
==============================================
PSC-Graphé¡¹ç›® - æ•°æ®çˆ¬å–æ¨¡å—éªŒæ”¶å•
==============================================

äº¤ä»˜æ—¥æœŸ: 2025-11-__
éªŒæ”¶æ—¥æœŸ: 2025-11-__

1. æ•°æ®é‡è¾¾æ ‡:
   â–¡ ä¸­å¤®æ”¿ç­– â‰¥500æ¡
   â–¡ çœçº§æ”¿ç­– â‰¥200æ¡
   â–¡ ç»Ÿè®¡æ•°æ® â‰¥2000è¡Œ
   â–¡ ä¸“åˆ©æ•°æ® â‰¥1000è¡Œ

2. è´¨é‡æ ‡å‡†è¾¾æ ‡:
   â–¡ å­—æ®µå®Œæ•´æ€§ â‰¥99%
   â–¡ äººå·¥æŠ½æŸ¥ä¸€è‡´æ€§ â‰¥95%
   â–¡ å»é‡æœ‰æ•ˆç‡ â‰¥99%

3. åˆè§„æ€§è¾¾æ ‡:
   â–¡ Robotsåè®®éµå®ˆ
   â–¡ QPSé™åˆ¶éµå®ˆ
   â–¡ æ•°æ®æ¥æºåˆæ³•

4. æ–‡æ¡£å®Œæ•´æ€§:
   â–¡ ä»£ç æ–‡ä»¶é½å…¨
   â–¡ é…ç½®æ–‡ä»¶å®Œæ•´
   â–¡ æ—¥å¿—æ–‡ä»¶å®Œæ•´
   â–¡ æŠ€æœ¯æ–‡æ¡£å®Œæ•´

éªŒæ”¶ç»“è®º:
â–¡ é€šè¿‡   â–¡ æœ‰æ¡ä»¶é€šè¿‡   â–¡ ä¸é€šè¿‡

éªŒæ”¶äººç­¾å­—: __________
æ—¥æœŸ: 2025-11-__

å¤‡æ³¨:
_____________________________________________
==============================================
```

---

## ä¸ƒã€æ—¶é—´è¡¨ä¸é‡Œç¨‹ç¢‘

### ä¸¤å‘¨å†²åˆºè®¡åˆ’(10ä¸ªå·¥ä½œæ—¥)

#### Week 1: ç¯å¢ƒå‡†å¤‡+ä¸­å¤®æ”¿ç­–+çœçº§ç¤ºèŒƒ

| æ—¥æœŸ | ä»»åŠ¡ | äº¤ä»˜ç‰© | è´Ÿè´£äºº |
|-----|------|-------|-------|
| **Day 1-2** | ç¯å¢ƒåˆå§‹åŒ– | âœ… .venvç¯å¢ƒ<br>âœ… ä¾èµ–å®‰è£…å®Œæˆ<br>âœ… seeds_sites.yamlé…ç½® | å·¥ç¨‹å¸ˆA |
| **Day 3-5** | ä¸­å¤®æ”¿ç­–æŠ“å– | âœ… â‰¥500æ¡æ”¿ç­–æ–‡æœ¬<br>âœ… æ—¥å¿—æ–‡ä»¶<br>âœ… checkpointæ–‡ä»¶ | å·¥ç¨‹å¸ˆA |
| **Day 6-7** | çœçº§ç¤ºèŒƒæŠ“å– | âœ… å¹¿ä¸œçœå…¨é‡â‰¥200æ¡<br>âœ… äº¬æ²ªæµ™ç¤ºèŒƒå„â‰¥50æ¡<br>âœ… å…¨å›½çœçº§å…¥å£æ¸…å• | å·¥ç¨‹å¸ˆB |

**Week 1é‡Œç¨‹ç¢‘éªŒæ”¶**:
- âœ… ä¸­å¤®æ”¿ç­–â‰¥500æ¡
- âœ… çœçº§æ”¿ç­–â‰¥300æ¡(å¹¿ä¸œ+ç¤ºèŒƒ)
- âœ… å…¨å›½31çœå…¥å£æ¸…å•å®Œæˆ
- âœ… äººå·¥æŠ½æŸ¥10æ¡æ”¿ç­–é€šè¿‡

---

#### Week 2: ç»Ÿè®¡æ•°æ®+ä¸“åˆ©æ•°æ®+è´¨é‡éªŒæ”¶

| æ—¥æœŸ | ä»»åŠ¡ | äº¤ä»˜ç‰© | è´Ÿè´£äºº |
|-----|------|-------|-------|
| **Day 8-10** | ç»Ÿè®¡å±€æ•°æ® | âœ… nbs_panel_long.csv â‰¥2000è¡Œ<br>âœ… åŸå§‹JSONå½’æ¡£<br>âœ… äººå·¥æ ¸å¯¹27ç‚¹é€šè¿‡ | å·¥ç¨‹å¸ˆB |
| **Day 11-13** | CNIPAæ•°æ® | âœ… cnipa_panel_long.csv â‰¥1000è¡Œ<br>âœ… PDFå½’æ¡£<br>âœ… åˆè®¡å€¼éªŒè¯é€šè¿‡ | å·¥ç¨‹å¸ˆA |
| **Day 14** | éªŒæ”¶ä¸æ–‡æ¡£ | âœ… éªŒæ”¶æŠ¥å‘Š<br>âœ… æ‰“åŒ…äº¤ä»˜<br>âœ… éªŒæ”¶ç­¾å­— | é¡¹ç›®ç»ç† |

**Week 2é‡Œç¨‹ç¢‘éªŒæ”¶**:
- âœ… ç»Ÿè®¡æ•°æ®â‰¥2000è¡Œ
- âœ… ä¸“åˆ©æ•°æ®â‰¥1000è¡Œ
- âœ… æ‰€æœ‰è´¨é‡æ£€æŸ¥é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´äº¤ä»˜
- âœ… éªŒæ”¶å•ç­¾å­—

---

### å…³é”®æ—¶é—´ç‚¹

```mermaid
gantt
    title æ•°æ®çˆ¬å–ä¸¤å‘¨å†²åˆºè®¡åˆ’
    dateFormat  YYYY-MM-DD
    section ç¯å¢ƒå‡†å¤‡
    ç¯å¢ƒåˆå§‹åŒ–      :done, 2025-11-11, 2d
    section ä¸­å¤®æ”¿ç­–
    çˆ¬å–æ‰§è¡Œ        :active, 2025-11-13, 3d
    è´¨é‡æ£€æŸ¥        :2025-11-15, 1d
    section çœçº§æ”¿ç­–
    å¹¿ä¸œçœå…¨é‡      :2025-11-16, 1d
    ç¤ºèŒƒçœä»½        :2025-11-17, 1d
    section ç»Ÿè®¡æ•°æ®
    æŒ‡æ ‡éªŒè¯        :2025-11-18, 1d
    æ•°æ®æŠ“å–        :2025-11-19, 2d
    section ä¸“åˆ©æ•°æ®
    PDFä¸‹è½½         :2025-11-21, 2d
    è¡¨æ ¼è§£æ        :2025-11-22, 1d
    section éªŒæ”¶
    è´¨é‡æ£€æŸ¥        :2025-11-24, 1d
    æ–‡æ¡£æ‰“åŒ…        :crit, 2025-11-24, 1d
```

---

## å…«ã€é™„å½•

### 8.1 å…³é”®æŠ€æœ¯æ ˆ

```yaml
æ ¸å¿ƒä¾èµ–:
  requests: 2.31.0         # HTTPå®¢æˆ·ç«¯
  BeautifulSoup4: 4.12.0   # HTMLè§£æ
  pdfplumber: 0.10.0       # PDFè¡¨æ ¼æŠ½å–
  pandas: 2.1.0            # æ•°æ®å¤„ç†
  PyYAML: 6.0              # é…ç½®æ–‡ä»¶è§£æ

å¯é€‰ä¾èµ–:
  camelot-py: 0.11.0       # å¤æ‚PDFè¡¨æ ¼(éœ€Java)
  pdf2image: 1.16.3        # PDFè½¬å›¾åƒ
  pytesseract: 0.3.10      # OCRå¼•æ“
```

### 8.2 ç›®å½•ç»“æ„å®Œæ•´ç‰ˆ

```
psc-graph-template/
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md
â”œâ”€â”€ 01_æ•°æ®çˆ¬å–æ–¹æ¡ˆ.md
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ bootstrap.sh
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ crawler_common.py
â”‚   â”œâ”€â”€ crawl_gov_central.py
â”‚   â”œâ”€â”€ crawl_provinces.py
â”‚   â”œâ”€â”€ fetch_nbs_panel.py
â”‚   â”œâ”€â”€ fetch_cnipa_reports.py
â”‚   â”œâ”€â”€ parse_cnipa_pdf_tables.py
â”‚   â”œâ”€â”€ check_field_completeness.py   (éªŒæ”¶è„šæœ¬)
â”‚   â”œâ”€â”€ check_deduplication.py         (éªŒæ”¶è„šæœ¬)
â”‚   â””â”€â”€ acceptance_check.sh            (éªŒæ”¶è„šæœ¬)
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ seeds/
â”‚   â”‚   â””â”€â”€ seeds_sites.yaml
â”‚   â”œâ”€â”€ province_codes.csv
â”‚   â”œâ”€â”€ nbs_raw/
â”‚   â”‚   â”œâ”€â”€ A0101.json
â”‚   â”‚   â”œâ”€â”€ A0RD01.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ cnipa_raw/
â”‚   â”‚   â”œâ”€â”€ 2023-05.pdf
â”‚   â”‚   â”œâ”€â”€ 2023-06.pdf
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ nbs_panel_long.csv
â”‚   â””â”€â”€ cnipa_panel_long.csv
â”œâ”€â”€ corpus/
â”‚   â””â”€â”€ raw/
â”‚       â”œâ”€â”€ policy_central/
â”‚       â”‚   â”œâ”€â”€ éƒ¨é—¨æ–‡ä»¶/
â”‚       â”‚   â”‚   â”œâ”€â”€ 2023/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ abc123def456.json
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â””â”€â”€ 2024/
â”‚       â”‚   â””â”€â”€ æ”¿ç­–è§£è¯»/
â”‚       â””â”€â”€ policy_prov/
â”‚           â”œâ”€â”€ å¹¿ä¸œçœ/
â”‚           â”‚   â””â”€â”€ 2023/
â”‚           â”œâ”€â”€ åŒ—äº¬å¸‚/
â”‚           â””â”€â”€ ...
â””â”€â”€ results/
    â”œâ”€â”€ logs/
    â”‚   â”œâ”€â”€ gov_central.log
    â”‚   â”œâ”€â”€ prov.log
    â”‚   â”œâ”€â”€ nbs_fetch.log
    â”‚   â”œâ”€â”€ cnipa_fetch.log
    â”‚   â””â”€â”€ cnipa_parse_fail.txt
    â”œâ”€â”€ checkpoints/
    â”‚   â”œâ”€â”€ gov_central.json
    â”‚   â””â”€â”€ provinces.json
    â””â”€â”€ quality_check_sample.txt
```

### 8.3 åˆè§„æ€§å£°æ˜

**æ•°æ®æ¥æºåˆæ³•æ€§**:
- âœ… æ‰€æœ‰æ”¿ç­–æ–‡æœ¬æ¥è‡ªæ”¿åºœå…¬å¼€ç½‘ç«™
- âœ… æ‰€æœ‰ç»Ÿè®¡æ•°æ®æ¥è‡ªå›½å®¶ç»Ÿè®¡å±€å…¬å¼€æ¥å£
- âœ… æ‰€æœ‰ä¸“åˆ©æ•°æ®æ¥è‡ªCNIPAå…¬å¼€æŠ¥å‘Š
- âœ… ä¸æ¶‰åŠä¸ªäººéšç§æˆ–å•†ä¸šæ•æ„Ÿä¿¡æ¯

**ä½¿ç”¨é™åˆ¶**:
- âœ… ä»…ç”¨äºå­¦æœ¯ç ”ç©¶
- âœ… å¼•ç”¨æ‰€æœ‰æ•°æ®æ¥æº
- âœ… éµå®ˆå„ç«™ç‚¹robots.txt
- âœ… ä¸è¿›è¡Œå•†ä¸šåŒ–ç”¨é€”

**å¼•ç”¨æ ¼å¼**:
```
æ•°æ®æ¥æº:
1. ä¸­å¤®æ”¿ç­–: ä¸­åäººæ°‘å…±å’Œå›½ä¸­å¤®äººæ°‘æ”¿åºœç½‘ç«™, å›½åŠ¡é™¢æ”¿ç­–æ–‡ä»¶åº“,
   https://www.gov.cn/zhengce/zhengcewenjianku/, è®¿é—®æ—¥æœŸ: 2025-11-11
2. çœçº§æ”¿ç­–: å¹¿ä¸œçœç§‘å­¦æŠ€æœ¯å…, çœæ”¿ç­–æ³•è§„,
   https://gdstc.gd.gov.cn/zwgk_n/zcfg/szcfg/, è®¿é—®æ—¥æœŸ: 2025-11-11
3. ç»Ÿè®¡æ•°æ®: å›½å®¶ç»Ÿè®¡å±€, å›½å®¶æ•°æ®,
   https://data.stats.gov.cn/, è®¿é—®æ—¥æœŸ: 2025-11-11
4. ä¸“åˆ©æ•°æ®: å›½å®¶çŸ¥è¯†äº§æƒå±€, ç»Ÿè®¡æœˆæŠ¥/å¹´æŠ¥,
   https://www.cnipa.gov.cn/, è®¿é—®æ—¥æœŸ: 2025-11-11
```

---

## æ€»ç»“

æœ¬æ•°æ®çˆ¬å–æ–¹æ¡ˆæä¾›äº†**å®Œæ•´ã€åˆè§„ã€å¯æ‰§è¡Œ**çš„å®æ–½è·¯å¾„,ç¡®ä¿:

âœ… **å®Œæ•´æ€§**: è¦†ç›–ä¸­å¤®/çœçº§æ”¿ç­–+äº§ä¸šæŒ‡æ ‡+ä¸“åˆ©æ•°æ®,â‰¥4800æ¡è®°å½•
âœ… **å¯æ‰§è¡Œæ€§**: Makefile+è„šæœ¬+é…ç½®,åˆ†æ­¥/ä¸€é”®å¯é€‰,æ–­ç‚¹ç»­çˆ¬
âœ… **åˆè§„æ€§**: robots.txtã€QPSâ‰¤1.0ã€æ¥æºåˆæ³•,è‡ªåŠ¨æ£€æŸ¥
âœ… **å¯éªŒè¯æ€§**: è´¨é‡æ£€æŸ¥ç‚¹+éªŒæ”¶æ ‡å‡†+äººå·¥æŠ½æŸ¥,â‰¥95%å‡†ç¡®ç‡
âœ… **å¯è¿½æº¯æ€§**: æ‰€æœ‰æ•°æ®é™„å®˜æ–¹é“¾æ¥+SHA256+æ—¶é—´æˆ³+æ—¥å¿—
âœ… **å·¥ç¨‹åŒ–**: æ ‡å‡†ç›®å½•ç»“æ„+é…ç½®æ–‡ä»¶+æ—¥å¿—è§„èŒƒ+é”™è¯¯å¤„ç†

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
1. âœ… Day 1-2: æ‰§è¡Œ`make setup`åˆå§‹åŒ–ç¯å¢ƒ
2. âœ… Day 3-5: é…ç½®seeds_sites.yaml,è¿è¡Œ`make crawl_gov_central`
3. âœ… Day 6-7: è¿è¡Œ`make crawl_provinces`,å®Œæˆçœçº§ç¤ºèŒƒ
4. âœ… Day 8-10: éªŒè¯ç»Ÿè®¡å±€æŒ‡æ ‡ç¼–ç ,è¿è¡Œ`make fetch_nbs`
5. âœ… Day 11-13: è¿è¡Œ`make fetch_cnipa`,è§£æPDFè¡¨æ ¼
6. âœ… Day 14: æ‰§è¡ŒéªŒæ”¶æ£€æŸ¥,ç”ŸæˆéªŒæ”¶æŠ¥å‘Š,ç­¾å­—äº¤ä»˜

**è”ç³»æ–¹å¼**:
- æŠ€æœ¯æ”¯æŒ: policy@psc-graph.org
- é¡¹ç›®ç®¡ç†: pm@psc-graph.org

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ç”Ÿæˆæ—¶é—´**: 2025-11-11
**ç»´æŠ¤è€…**: PSC-Graphæ•°æ®å·¥ç¨‹ç»„
**æœ€åæ›´æ–°**: 2025-11-11
